import{k,l as Y,m as B,n as j,h as I,g as P,T as A,o as M,c as S,d as u,F as Z,p as V,t as H,i as L,j as E}from"./index-28df8069.js";var N={exports:{}};(function(O,_){(function(d,m){O.exports=m()})(k,function(){var d="minute",m=/[+-]\d\d(?::?\d\d)?/g,h=/([+-]|\d\d)/g;return function(U,n,p){var r=n.prototype;p.utc=function(t){var e={date:t,utc:!0,args:arguments};return new n(e)},r.utc=function(t){var e=p(this.toDate(),{locale:this.$L,utc:!0});return t?e.add(this.utcOffset(),d):e},r.local=function(){return p(this.toDate(),{locale:this.$L,utc:!1})};var z=r.parse;r.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),z.call(this,t)};var y=r.init;r.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else y.call(this)};var b=r.utcOffset;r.utcOffset=function(t,e){var f=this.$utils().u;if(f(t))return this.$u?0:f(this.$offset)?b.call(this):this.$offset;if(typeof t=="string"&&(t=function(l){l===void 0&&(l="");var T=l.match(m);if(!T)return null;var $=(""+T[0]).match(h)||["-",0,0],D=$[0],g=60*+$[1]+ +$[2];return g===0?0:D==="+"?g:-g}(t),t===null))return this;var a=Math.abs(t)<=16?60*t:t,o=this;if(e)return o.$offset=a,o.$u=t===0,o;if(t!==0){var v=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(a+v,d)).$offset=a,o.$x.$localOffset=v}else o=this.utc();return o};var s=r.format;r.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return s.call(this,e)},r.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},r.isUTC=function(){return!!this.$u},r.toISOString=function(){return this.toDate().toISOString()},r.toString=function(){return this.toDate().toUTCString()};var c=r.toDate;r.toDate=function(t){return t==="s"&&this.$offset?p(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():c.call(this)};var i=r.diff;r.diff=function(t,e,f){if(t&&this.$u===t.$u)return i.call(this,t,e,f);var a=this.local(),o=p(t).local();return i.call(a,o,e,f)}}})})(N);const G=N.exports;var F={exports:{}};(function(O,_){(function(d,m){O.exports=m()})(k,function(){var d={year:0,month:1,day:2,hour:3,minute:4,second:5},m={};return function(h,U,n){var p,r=function(s,c,i){i===void 0&&(i={});var t=new Date(s),e=function(f,a){a===void 0&&(a={});var o=a.timeZoneName||"short",v=f+"|"+o,l=m[v];return l||(l=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:f,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:o}),m[v]=l),l}(c,i);return e.formatToParts(t)},z=function(s,c){for(var i=r(s,c),t=[],e=0;e<i.length;e+=1){var f=i[e],a=f.type,o=f.value,v=d[a];v>=0&&(t[v]=parseInt(o,10))}var l=t[3],T=l===24?0:l,$=t[0]+"-"+t[1]+"-"+t[2]+" "+T+":"+t[4]+":"+t[5]+":000",D=+s;return(n.utc($).valueOf()-(D-=D%1e3))/6e4},y=U.prototype;y.tz=function(s,c){s===void 0&&(s=p);var i=this.utcOffset(),t=this.toDate(),e=t.toLocaleString("en-US",{timeZone:s}),f=Math.round((t-new Date(e))/1e3/60),a=n(e).$set("millisecond",this.$ms).utcOffset(15*-Math.round(t.getTimezoneOffset()/15)-f,!0);if(c){var o=a.utcOffset();a=a.add(i-o,"minute")}return a.$x.$timezone=s,a},y.offsetName=function(s){var c=this.$x.$timezone||n.tz.guess(),i=r(this.valueOf(),c,{timeZoneName:s}).find(function(t){return t.type.toLowerCase()==="timezonename"});return i&&i.value};var b=y.startOf;y.startOf=function(s,c){if(!this.$x||!this.$x.$timezone)return b.call(this,s,c);var i=n(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return b.call(i,s,c).tz(this.$x.$timezone,!0)},n.tz=function(s,c,i){var t=i&&c,e=i||c||p,f=z(+n(),e);if(typeof s!="string")return n(s).tz(e);var a=function(T,$,D){var g=T-60*$*1e3,x=z(g,D);if($===x)return[g,$];var C=z(g-=60*(x-$)*1e3,D);return x===C?[g,x]:[T-60*Math.min(x,C)*1e3,Math.max(x,C)]}(n.utc(s,t).valueOf(),f,e),o=a[0],v=a[1],l=n(o).utcOffset(v);return l.$x.$timezone=e,l},n.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},n.tz.setDefault=function(s){p=s}}})})(F);const W=F.exports;Y.extend(G);Y.extend(W);const q=Y.tz.guess();Y.tz.setDefault(q);const w=Y,J=u("h2",{class:"fw-bold ms-2"}," 出勤異常 ",-1),K=u("small",null,null,-1),Q={class:"table table-hover table-primary ms-2 text-center"},R=u("thead",null,[u("tr",null,[u("th",{scope:"col"},"狀態"),u("th",{scope:"col"},"日期"),u("th",{scope:"col"},"上班時間"),u("th",{scope:"col"},"下班時間")])],-1),X=u("th",{scope:"row"},"異常",-1),tt={key:1,colspan:"4",class:"text-center"},et={__name:"absenceList",setup(O){const _=B([]);return j(async()=>{try{const m=(await I.getCurrentUser()).data.currentUser.id;let h=await I.getUserAbsence({userId:m});if(h=h.data.absenceData,!h.length){_.value=!1;return}const U=P(()=>h.map(n=>({...n,startTime:n.startTime?w(n.startTime).format("HH:mm"):"未打卡",endTime:n.endTime?w(n.endTime).format("HH:mm"):"未打卡",day:w(n.startTime).format("YYYY/MM/DD")})));_.value=U.value}catch(d){A.error(d.response.data.message)}}),(d,m)=>(M(),S(Z,null,[J,K,u("table",Q,[R,u("tbody",null,[_.value?(M(!0),S(Z,{key:0},V(_.value,h=>(M(),S("tr",{key:h.id,class:"table-light"},[X,u("td",null,H(h.day),1),u("td",null,H(h.startTime),1),u("td",null,H(h.endTime),1)]))),128)):(M(),S("td",tt," 目前沒有異常資料 "))])])],64))}},st={class:"container py-5"},nt=u("h1",{class:"mt-1"}," 首頁 - 個人資料 ",-1),rt={class:"row"},at={class:"col-md-5"},it={class:"col-md-6"},ut={__name:"absence",setup(O){return(_,d)=>(M(),S("div",st,[nt,u("div",rt,[u("div",at,[L(E)]),u("div",it,[L(et)])])]))}};export{ut as default};
