import{u as P,s as b,r as v,g,o as w,c as u,b as s,e as d,v as n,w as y,F as k,T as t,h as C,i,j as U}from"./index-3dfe3054.js";const V=s("h2",{class:"fw-bold"}," 更改密碼 ",-1),$=s("h5",{class:"p-1"},"請先輸入您的密碼在進行更改",-1),x=["onSubmit"],N={class:"form-group mt-3 mb-3"},S=s("label",{for:"oldPassword",class:"fs-4 mb-1"},"Original Password",-1),T={class:"form-group mb-3"},B=s("label",{for:"newPassword",class:"fs-4 mb-1"},"New Password",-1),E={class:"form-group mb-3"},I=s("label",{for:"newPasswordCheck",class:"fs-4 mb-1"},"New Password",-1),q=s("div",{class:"form-group mt-3"},[s("button",{type:"submit",class:"btn btn-outline-primary fs-5"},"確定更改")],-1),D={__name:"userEdit",setup(p){const c=P(),{currentUser:l}=b(c),o=v({oldPassword:"",newPassword:"",newPasswordCheck:""}),m=g(()=>o.newPassword===o.newPasswordCheck);async function _(){var a,r;try{for(let h in o)if(!o[h]){t.error("請填上所有欄位");return}if(!m.value){t.error("請確認新密碼兩者相同");return}const e=l.value.id,f=await C.putUser({userId:e,formData:o});t.success(f.data.message)}catch(e){t.error(((r=(a=e.response)==null?void 0:a.data)==null?void 0:r.message)||e.message)}}return(a,r)=>(w(),u(k,null,[V,$,s("form",{onSubmit:y(_,["prevent"])},[s("div",N,[S,d(s("input",{type:"password",class:"form-control shadow",id:"oldPassword",placeholder:"your origin password","onUpdate:modelValue":r[0]||(r[0]=e=>o.oldPassword=e),required:""},null,512),[[n,o.oldPassword]])]),s("div",T,[B,d(s("input",{type:"password",class:"form-control shadow",id:"newPassword",placeholder:"your new password","onUpdate:modelValue":r[1]||(r[1]=e=>o.newPassword=e),required:""},null,512),[[n,o.newPassword]])]),s("div",E,[I,d(s("input",{type:"password",class:"form-control shadow",id:"newPasswordCheck",placeholder:"confirm new password","onUpdate:modelValue":r[2]||(r[2]=e=>o.newPasswordCheck=e)},null,512),[[n,o.newPasswordCheck]])]),q],40,x)],64))}},F={class:"container py-5"},M={class:"row"},R={class:"col-md-5"},j={class:"col-md-6 p-4"},O={__name:"setting",setup(p){return(c,l)=>(w(),u("div",F,[s("div",M,[s("div",R,[i(U)]),s("div",j,[i(D)])])]))}};export{O as default};
